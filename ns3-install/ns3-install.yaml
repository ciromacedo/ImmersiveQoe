---
    -   hosts: 127.0.0.1
        connection: local
        become: yes
        remote_user: root
        vars:
            GTP5G_DIR_INSTALL : "/root/gtp5g"
            FREE5GC_DIR_INSTALL : "/root/go/src/free5gc"
            UPF_IP_ADDRESS: "127.0.0.8"
            
        tasks:
            #- fail: 
            #    msg: "'internet_network_interface' not found, this parameter is required!"
            #  when: internet_network_interface == ''

            - name: Validando a quantidade de memória disponível. Min-4GB
              assert:
                that:
                  - ansible_memtotal_mb >= 3000
                msg: "Minimum memory requirements in the deployment environment is 4GB! Operation failed!"

            - name: Atualização de pacotes
              apt: upgrade=dist force_apt_get=yes
            
            - name: Instalando dependências
              apt:
                    name: ['g++', 'cmake', 'ninja-build', 'curl', 'ccache', 'python3-pip', 'gir1.2-goocanvas-2.0', 'python3-gi', 'python3-gi-cairo', 'python3-pygraphviz', 'gir1.2-gtk-3.0', 'ipython3']
                    state: present
                    update_cache: yes

            - name: Instalando  cppyy - Biblioteca de interoperabilidade entre C++ e Python
              shell :  |
                    python3 -m pip install --user cppyy
            
                                                                                                                                          